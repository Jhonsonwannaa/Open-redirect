#!/bin/bash/env python3

import requests
import concurrent.futures
from colorama import Fore, Style
import sys
import warnings


warnings.filterwarnings("ignore", message=".*Unverified HTTPS request.*")


try:

 def main(url,files):
    
   r=requests.get(f'{url}/{files}').url if 'google.com' in str(requests.get(f'{url}/{files}').headers.items())  else requests.get(f'{url}').url+' '+str(requests.get(f'{url}').status_code)
   return r
   
 def threads(url,files):

    with concurrent.futures.ThreadPoolExecutor(max_workers=int(sys.argv[2])) as executor:
     futures = [executor.submit(main, url,files) for files in files]
     for future in concurrent.futures.as_completed(futures):
        print(future.result())
        continue


 if __name__=='__main__':

   with open('open-redirect.txt','r') as s:
       file=[files.strip() for files in s.readlines()]
   
  
   threads(sys.argv[1],file)

except IndexError:
   print('python3 exploit.py http://www.example.com  30')
